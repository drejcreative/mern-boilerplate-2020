/*! For license information please see main.cf740e97.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{205:function(e,t,r){e.exports=r(261)},211:function(e,t,r){},247:function(e,t){},260:function(e,t,r){},261:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(44),i=r.n(o),l=r(47),c=r(7),u=r(15),s=(r(210),Object(n.createContext)({forms:[],receipts:[],apiCallsInProgress:0,toastMsgs:[]})),f=r(13),h=r(9),m=r(151);function d(e,t){switch(t.type){case"START_LOADING":return Object(h.a)(Object(h.a)({},e),{},{apiCallsInProgress:e.apiCallsInProgress+1});case"END_LOADING":return Object(h.a)(Object(h.a)({},e),{},{apiCallsInProgress:e.apiCallsInProgress-1});case"GET_FORMS":return Object(h.a)(Object(h.a)({},e),{},{forms:t.payload});case"GET_RECEIPTS":return Object(h.a)(Object(h.a)({},e),{},{receipts:t.payload});case"ADD_TOAST_MSG":return Object(h.a)(Object(h.a)({},e),{},{toastMsgs:[].concat(Object(f.a)(e.toastMsgs),[Object(h.a)(Object(h.a)({},t.payload),{},{id:Object(m.a)()})])});case"REMOVE_TOAST_MSG":var r=e.toastMsgs.filter((function(e){return e.id!==t.payload.id}));return Object(h.a)(Object(h.a)({},e),{},{toastMsgs:r?Object(f.a)(r):[]});default:return e}}var p=r(341),v=(r(211),r(314)),y=r(330),g=r(327),b=function(){var e=a.a.useContext(s),t=e.state,r=e.dispatch,n=function(e,t,n){"clickaway"!==t&&r(n)};return a.a.createElement(v.a,{spacing:8},t.toastMsgs.map((function(e){var t=e.msg,r=e.id,o=e.type;return a.a.createElement(y.a,{key:"snack"+r,open:!0,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(e,t){n(0,t,{type:"REMOVE_TOAST_MSG",payload:{id:r}})}},a.a.createElement(g.a,{key:"alert"+r,onClose:function(e,t){n(0,t,{type:"REMOVE_TOAST_MSG",payload:{id:r}})},severity:o,sx:{width:"100%"}},t))})))};function E(e){var t=e.children,r=a.a.useContext(s).state;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container py-2"},t),r.apiCallsInProgress?a.a.createElement("div",{style:{position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",zIndex:"1080",top:"0",left:"0",right:"0",bottom:"0",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(p.a,{color:"secondary"})):null,b())}var w=r(335),x=r(129),O=r.n(x),L=r(130),j=r.n(L);function k(){var e=Object(u.m)();return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",{className:"d-flex justify-content-center mb-4"},a.a.createElement("img",{onClick:function(){e("/")},style:{cursor:"pointer"},width:"150",src:"/logo.png",alt:"Home"}))),a.a.createElement("div",{className:"d-flex align-items-center flex-column"},a.a.createElement("div",{className:"mb-2"},a.a.createElement(w.a,{style:{marginRight:"10px"},variant:"outlined",color:"secondary",startIcon:a.a.createElement(O.a,null),onClick:function(){e("/newform")}},"Add New Form"),a.a.createElement(w.a,{variant:"outlined",color:"secondary",startIcon:a.a.createElement(O.a,null),onClick:function(){e("/newreceipt")}},"Add New Receipt")),a.a.createElement("div",{className:"d-flex justify-content-center flex-row"},a.a.createElement("div",{className:"me-2"},a.a.createElement(w.a,{variant:"contained",startIcon:a.a.createElement(j.a,null),onClick:function(){e("/formlist")}},"View forms")),a.a.createElement("div",null,a.a.createElement(w.a,{variant:"contained",startIcon:a.a.createElement(j.a,null),onClick:function(){e("/receiptlist")}},"View reciepts")))))}var N=r(18),F=r(92),_=r(334),S=r(336),T=r(318),z=r(350),H=r(325),I=r(332),P=r(329),C=r(338),A=r(344),G=r(345),W=r(346),M=r(347),D=r(348),V=r(349),R=r(342),B=r(328),K=r(353),Y=r(343),q=r(339),Z=r(354),J=r(326),U=r(155),Q=r.n(U),X=r(33),$=r(34),ee=r(42),te=r.n(ee),re="http://localhost:4000/api/v1";function ne(){ne=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new j(a||[]);return n(i,"_invoke",{value:w(e,r,l)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var f={};function h(){}function m(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:m,configurable:!0}),m.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ae=function(){function e(){Object(X.a)(this,e)}return Object($.a)(e,null,[{key:"getMembersByHOF",value:function(){var e=Object(N.a)(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get(this.url+"/"+t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,isOK:"OK"===r.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function oe(){oe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new j(a||[]);return n(i,"_invoke",{value:w(e,r,l)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var f={};function h(){}function m(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:m,configurable:!0}),m.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}ae.url="".concat(re,"/hof");var ie=function(){function e(){Object(X.a)(this,e)}return Object($.a)(e,null,[{key:"getForms",value:function(){var e=Object(N.a)(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get(this.url);case 3:return t=e.sent,e.abrupt("return",{data:t.data.data,isOK:"OK"===t.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFormbyFormNo",value:function(){var e=Object(N.a)(oe().mark((function e(t){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get(this.url+"/form/"+t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,isOK:"OK"===r.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isFormExistByHOF",value:function(){var e=Object(N.a)(oe().mark((function e(t){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get(this.url+"/"+t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,isOK:"OK"===r.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addToForms",value:function(){var e=Object(N.a)(oe().mark((function e(t){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.post(this.url,t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,isOK:"Created"===r.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateForm",value:function(){var e=Object(N.a)(oe().mark((function e(t){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.put(this.url,t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,isOK:"OK"===r.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteForm",value:function(){var e=Object(N.a)(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.delete(this.url,{data:{id:t}});case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();ie.url="".concat(re,"/takhmeenform");var le=[{displayVal:"Zainy Masjid",value:"ZM"},{displayVal:"Burhani Hall",value:"BH"},{displayVal:"Jamali Markaz",value:"JM"}],ce=function(e){return a.a.createElement("div",{className:"d-flex mt-3 align-items-center"},a.a.createElement(l.b,{to:"/"},a.a.createElement("img",{role:"button",style:{marginRight:"10px"},width:"90",src:"/logo.png",alt:"Home"})),a.a.createElement(Y.a,{variant:"h4",component:"h4"},e.header))},ue=function(e){var t=e.takhmeenDetails;return a.a.createElement(A.a,{component:_.a},a.a.createElement(G.a,{size:"small","aria-label":"collapsible table"},a.a.createElement(W.a,null,a.a.createElement(M.a,null,a.a.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},"Takhmeen amount"),a.a.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},"Zabihat"),a.a.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},"Iftaari"),a.a.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},"Niyaaz"),a.a.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},"Chair"),a.a.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},"Grand Total"))),a.a.createElement(V.a,null,a.a.createElement(M.a,{sx:{"&:last-child td, &:last-child th":{border:0}}},a.a.createElement(D.a,{align:"right"},Number(t.takhmeenAmount)),a.a.createElement(D.a,{align:"right"},"".concat(t.zabihat?t.zabihat+" x 4500":0)),a.a.createElement(D.a,{align:"right"},Number(t.iftaari)),a.a.createElement(D.a,{align:"right"},Number(t.niyaaz)),a.a.createElement(D.a,{align:"right"},"".concat(t.chairs?t.chairs+" x 300":0)),a.a.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},Number(t.takhmeenAmount)+Number(4500*t.zabihat)+Number(t.iftaari)+Number(t.niyaaz)+300*Number(t.chairs))))))},se=function(e){return Number(e.takhmeenAmount)+Number(4500*e.zabihat)+Number(e.iftaari)+Number(e.niyaaz)+300*Number(e.chairs)},fe=function(e){var t=se(e);return{takhmeenAmount:e.takhmeenAmount,zabihat:e.zabihat,iftaari:e.iftaari,niyaaz:e.niyaaz,chairs:e.chairs,paidAmount:e.paidAmount,pendingAmount:t-e.paidAmount}},he=function(e){return{receiptNo:e.receiptNo,date:new Date(e.date).toDateString(),amount:e.amount,mode:e.mode,details:e.details}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.values(e.reduce((function(e,t){var r;return(null===(r=e[t.HOFId])||void 0===r?void 0:r.HOFId)?e[t.HOFId].subReceipts.push(he(t)):e[t.HOFId]={HOFId:t.HOFId,HOFName:t.HOFName,formNo:t.formNo,subReceipts:[he(t)]},e}),{}))},de=function(){var e=Object(n.useContext)(s),t=e.state,r=e.dispatch;return{state:t,dispatch:r,startLoading:function(){r({type:"START_LOADING"})},endLoading:function(){r({type:"END_LOADING"})},addToastMsg:function(e,t){r({type:"ADD_TOAST_MSG",payload:{msg:e,type:t}})}}};function pe(){pe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new j(a||[]);return n(i,"_invoke",{value:w(e,r,l)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var f={};function h(){}function m(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:m,configurable:!0}),m.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ve=function(e){var t=e.familyMembers,r=e.handleDeleteMember;return a.a.createElement(A.a,{component:_.a},a.a.createElement(G.a,{size:"small","aria-label":"collapsible table"},a.a.createElement(W.a,null,a.a.createElement(M.a,null,a.a.createElement(D.a,{style:{fontWeight:"bold"}},"Name"),a.a.createElement(D.a,{style:{fontWeight:"bold"}},"ITS"),a.a.createElement(D.a,{style:{fontWeight:"bold"}},"Age"),a.a.createElement(D.a,{style:{fontWeight:"bold"}},"Gender"),a.a.createElement(D.a,null))),a.a.createElement(V.a,null,t.map((function(e){return a.a.createElement(M.a,{key:e.its,sx:{"&:last-child td, &:last-child th":{border:0}}},a.a.createElement(D.a,null,e.name),a.a.createElement(D.a,null,e.its),a.a.createElement(D.a,null,e.age),a.a.createElement(D.a,null,e.gender),a.a.createElement(D.a,null,a.a.createElement(R.a,{color:"secondary",size:"medium",onClick:function(){r(e.its)}},a.a.createElement(Q.a,{fontSize:"inherit"}))))})))))},ye={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"background.paper",boxShadow:24,p:4},ge=function(e){var t=e.open,r=e.handleClose,n=e.onSubmit,o=Object(F.a)({defaultValues:{name:"",its:"",age:null,gender:"male"}}),i=o.register,l=o.reset,c=o.getValues,u=o.setValue;(0,o.watch)("gender");var s=c().gender;return a.a.createElement(B.a,{open:t,onClose:r},a.a.createElement(K.a,{sx:ye},a.a.createElement(Y.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Add Member"),a.a.createElement("form",{onSubmit:function(){n(c()),l(),r()}},a.a.createElement(S.a,{container:!0,spacing:2,direction:"row",alignContent:"center"},a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,Object.assign({required:!0,fullWidth:!0,size:"small",id:"memberName",name:"name",label:"Name",type:"text"},i("name")))),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,Object.assign({required:!0,fullWidth:!0,size:"small",id:"memberITS",name:"its",label:"ITS",type:"text"},i("its")))),a.a.createElement("div",{className:"d-flex w-100 align-items-end"},a.a.createElement(S.a,{item:!0,xs:6,style:{paddingLeft:"16px",paddingTop:"16px"}},a.a.createElement(P.a,Object.assign({required:!0,fullWidth:!0,size:"small",id:"age",name:"age",label:"Age",type:"number"},i("age")))),a.a.createElement(S.a,{item:!0,xs:6,style:{paddingLeft:"16px",paddingTop:"16px"}},a.a.createElement(z.a,{fullWidth:!0},a.a.createElement(T.a,null,"Gender"),a.a.createElement(q.a,{size:"small",name:"gender",value:s,onChange:function(e){u("gender",e.target.value)},row:!0},a.a.createElement(Z.a,{key:"male",value:"male",control:a.a.createElement(J.a,{size:"small"}),label:"Male"}),a.a.createElement(Z.a,{key:"female",value:"female",control:a.a.createElement(J.a,{size:"small"}),label:"Female"}))))),a.a.createElement(S.a,{className:"d-flex",item:!0,xs:12,alignSelf:"center",justifyContent:"center"},a.a.createElement(w.a,{variant:"contained",color:"primary",type:"submit",style:{backgroundColor:"green",margin:"5px"}},"Add Member"))))))},be=function(e){var t=Object(u.o)(),r=Object(u.m)(),o=de(),i=o.startLoading,l=o.endLoading,s=o.addToastMsg,m=Object(F.a)({defaultValues:{markaz:"ZM",HOFId:"",HOFName:"",HOFAddress:"",HOFPhone:"",familyMembers:[],takhmeenAmount:null,zabihat:null,iftaari:null,niyaaz:null,chairs:null,comments:""}}),d=m.register,p=m.handleSubmit,v=m.reset,y=m.setValue,g=m.watch,b=m.formState.errors,E=m.getValues;g("HOFId","familyMembers");var x=E(),O=x.familyMembers,L=x.HOFName,j=x.HOFPhone,k=x.takhmeenAmount,A=x.zabihat,G=x.iftaari,W=x.niyaaz,M=x.chairs,D=function(){var t=Object(N.a)(pe().mark((function t(){var n,a,o,c,u;return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=E(),null===(n=a.familyMembers)||void 0===n?void 0:n.length){t.next=3;break}return t.abrupt("return",s("Add atleast one member","warning"));case 3:if(i(),t.prev=4,!e.isEdit){t.next=18;break}return t.next=8,ie.updateForm(E());case 8:if(o=t.sent,!o.isOK){t.next=15;break}s("Details saved successfully","success"),r("/formlist"),t.next=16;break;case 15:throw new Error("Internal server error");case 16:t.next=29;break;case 18:return t.next=20,ie.addToForms(E());case 20:if(c=t.sent,u=c.data,!c.isOK){t.next=28;break}s("Details saved : "+u.formNo,"success"),v(),t.next=29;break;case 28:throw new Error("Internal server error");case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(4),console.log("error saving form",t.t0),s("Unable to save details, please re validate entered values","error");case 35:l();case 36:case"end":return t.stop()}}),t,null,[[4,31]])})));return function(){return t.apply(this,arguments)}}(),V=Object(n.useState)(!1),R=Object(c.a)(V,2),B=R[0],K=R[1],Y=function(){var e=Object(N.a)(pe().mark((function e(t){var r,n,a,o,c,u;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.value){e.next=2;break}return e.abrupt("return");case 2:return i(),e.prev=3,e.next=6,Promise.all([ae.getMembersByHOF(t.target.value).catch((function(e){console.log("unable to fetch members list",e),s("unable to fetch members list","error")})),ie.isFormExistByHOF(t.target.value)]);case 6:c=e.sent,(null===(r=c[1])||void 0===r||null===(n=r.data)||void 0===n?void 0:n.exists)?(s("Data already exists for this HOF","warning"),v()):(null===(a=c[0])||void 0===a||null===(o=a.data)||void 0===o?void 0:o.length)?(u=c[0].data.find((function(e){return e.isHOF})),y("familyMembers",c[0].data.map((function(e){return{name:e.Full_Name,its:e.ITS_ID,age:e.Age,gender:e.Gender}}))),y("HOFName",u.Full_Name,{shouldTouch:!0,shouldDirty:!0}),y("HOFPhone",u.HOF_PHONE,{shouldDirty:!0}),U(!J)):s("HOF and its members details not found","warning"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("unexpected error",e.t0),s("unexpected error","error");case 14:l();case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),q=Object(n.useState)(!1),Z=Object(c.a)(q,2),J=Z[0],U=Z[1];return Object(n.useEffect)((function(){function n(){return(n=Object(N.a)(pe().mark((function n(){var a,o;return pe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isEdit){n.next=22;break}return i(),n.prev=2,n.next=5,ie.getFormbyFormNo(t.formNo);case 5:if(a=n.sent,o=a.data,!a.isOK){n.next=13;break}v(o),U(!J),n.next=14;break;case 13:throw new Error("Internal server error");case 14:n.next=21;break;case 16:n.prev=16,n.t0=n.catch(2),console.log("error getting form details",n.t0),s("Unable to fetch form details","error"),r("/formlist");case 21:l();case 22:case"end":return n.stop()}}),n,null,[[2,16]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ce,{header:e.isEdit?"Shehrullah-il-Moazzam 1444 edit registration form":"Shehrullah-il-Moazzam 1444 new registration form"}),a.a.createElement(_.a,null,a.a.createElement("div",{className:"p-3"},a.a.createElement("form",{onSubmit:p(D)},a.a.createElement(S.a,{container:!0,spacing:3,direction:"row",alignContent:"center"},a.a.createElement("div",{className:"d-flex w-100 align-items-end"},a.a.createElement(S.a,{item:!0,xs:6,style:{paddingLeft:"24px",paddingTop:"24px"}},a.a.createElement(T.a,null,"Select markaz"),a.a.createElement(z.a,{label:"Select markaz",fullWidth:!0},a.a.createElement(H.a,Object.assign({fullWidth:!0,size:"small",name:"markaz",defaultValue:"ZM"},d("markaz")),le.map((function(e){return a.a.createElement(I.a,{key:e.value,value:e.value},e.displayVal)}))))),a.a.createElement(S.a,{item:!0,xs:6,style:{paddingLeft:"24px",paddingTop:"24px"}},a.a.createElement(P.a,Object.assign({required:!0,className:"mt-2",fullWidth:!0,size:"small",id:"HOFId",name:"HOFId",label:"HOF ID",type:"text",disabled:e.isEdit},d("HOFId"),{onBlur:Y,error:!!b.HOFId})))),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{required:!0,fullWidth:!0,size:"small",id:"HOFName",name:"HOFName",label:"HOF Name",type:"text",value:L,onChange:function(e){var t,r;y("HOFName",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),U(!J)},error:!!b.HOFName})),a.a.createElement(S.a,{item:!0,xs:12},a.a.createElement(P.a,Object.assign({required:!0,fullWidth:!0,size:"small",id:"HOFAddress",name:"HOFAddress",label:"HOF Address",type:"textarea"},d("HOFAddress"),{error:!!b.HOFAddress}))),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{required:!0,fullWidth:!0,size:"small",id:"HOFPhone",name:"HOFPhone",label:"HOF Phone",type:"text",value:j,onChange:function(e){var t,r;y("HOFPhone",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),U(!J)},error:!!b.HOFPhone})),a.a.createElement(S.a,{item:!0,xs:12},a.a.createElement(T.a,null,"Members list"),ve({familyMembers:O,handleDeleteMember:function(e){var t=JSON.parse(JSON.stringify(O));t.splice((function(t){return t.its===e}),1),y("familyMembers",t),U(!J)}}),a.a.createElement(C.a,{className:"pt-2",component:"p",role:"button",variant:"body2",onClick:function(){K(!0)}},"Add Member")),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{required:!0,fullWidth:!0,size:"small",id:"takhmeenAmount",name:"takhmeenAmount",label:"Takhmeen amount",type:"number",value:k,onChange:function(e){var t,r;y("takhmeenAmount",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),U(!J)},error:!!b.HOFPhone})),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{fullWidth:!0,size:"small",id:"zabihat",name:"zabihat",label:"Zabihat count",type:"number",value:A,onChange:function(e){var t,r;y("zabihat",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),U(!J)},error:!!b.HOFPhone})),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{fullWidth:!0,size:"small",id:"iftaari",name:"iftaari",label:"Iftaari",type:"number",value:G,onChange:function(e){var t,r;y("iftaari",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),U(!J)},error:!!b.HOFPhone})),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{fullWidth:!0,size:"small",id:"niyaaz",name:"niyaaz",label:"Niyaaz",type:"number",value:W,onChange:function(e){var t,r;y("niyaaz",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),U(!J)},error:!!b.HOFPhone})),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{fullWidth:!0,size:"small",id:"chairs",name:"chairs",label:"Chair count",type:"number",value:M,onChange:function(e){var t,r;y("chairs",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),U(!J)},error:!!b.HOFPhone})),a.a.createElement(S.a,{item:!0,xs:12},a.a.createElement(T.a,null,"Takhmeen summary"),ue({takhmeenDetails:Object(h.a)({},E())})),a.a.createElement(S.a,{item:!0,xs:12},a.a.createElement(P.a,Object.assign({fullWidth:!0,size:"small",id:"comments",name:"comments",label:"Comments",type:"textarea"},d("comments")))),a.a.createElement(S.a,{className:"d-flex",item:!0,xs:12,alignSelf:"center",justifyContent:"center"},a.a.createElement(w.a,{variant:"contained",color:"primary",type:"submit",style:{backgroundColor:"green",margin:"5px"}},e.isEdit?"Update":"Submit"))))),ge({open:B,handleClose:function(){K(!1)},onSubmit:function(e){!O.find((function(t){return t.its===e.its}))&&y("familyMembers",[].concat(Object(f.a)(O),[e]))}})))},Ee=r(3),we=r(5),xe=r(355),Oe=r(37),Le=r(175),je=r.n(Le),ke=r(115),Ne=r.n(ke),Fe=r(114),_e=r.n(Fe),Se=r(113),Te=r.n(Se),ze=r(112),He=r.n(ze),Ie=r(16),Pe=Ie.d.create({page:{backgroundColor:"white",fontFamily:"Helvetica",fontSize:12},sectionWrapper:{margin:10,padding:10,border:"1px solid black"},section:{display:"flex",flexDirection:"row",alignItems:"center"},logo:{paddingRight:"10px",width:75},passHeader:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingBottom:"10px",fontSize:14},wrapper:{display:"flex",flexDirection:"column",flexGrow:1},textWrapper:{display:"flex",flexDirection:"row",paddingBottom:"5px"},textLabel:{width:"35%"},textValue:{width:"65%"},textHead:{textDecoration:"underline",fontWeight:700}}),Ce=function(e){var t=e.familyMembers,r=void 0===t?[]:t,n=e.HOFITS,o=e.formNo,i=e.markaz;return a.a.createElement(Ie.a,null,a.a.createElement(Ie.c,{size:"A4",style:Pe.page},r.map((function(e,t){var r,l;return a.a.createElement(Ie.f,{key:e.its,style:Pe.sectionWrapper},a.a.createElement(Ie.f,{style:Pe.passHeader},a.a.createElement(Ie.e,null,"Shehrullah-il-Moazzam 1444H Pass")),a.a.createElement(Ie.f,{style:Pe.section,break:0!==t},a.a.createElement(Ie.b,{src:"/logo.png",style:Pe.logo}),a.a.createElement(Ie.f,{style:Pe.wrapper},a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Markaz"),a.a.createElement(Ie.e,{style:Object(h.a)(Object(h.a)({},Pe.textValue),Pe.textHead)},null!==(r=null===(l=le.find((function(e){return e.value===i})))||void 0===l?void 0:l.displayVal)&&void 0!==r?r:i)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Form number"),a.a.createElement(Ie.e,{style:Pe.textValue},o)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"HOF ITS"),a.a.createElement(Ie.e,{style:Pe.textValue},n)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Name"),a.a.createElement(Ie.e,{style:Pe.textValue},e.name)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"ITS"),a.a.createElement(Ie.e,{style:Pe.textValue},e.its)))))}))))},Ae=function(e){var t=e.receipt,r=e.HOFITS,n=e.HOFName,o=e.formNo;return a.a.createElement(Ie.a,null,a.a.createElement(Ie.c,{size:"A4",style:Pe.page},a.a.createElement(Ie.f,{style:Pe.sectionWrapper},a.a.createElement(Ie.f,{style:Pe.passHeader},a.a.createElement(Ie.e,null,"Shehrullah-il-Moazzam 1444H Receipt")),a.a.createElement(Ie.f,{style:Pe.section,key:t.receiptNo},a.a.createElement(Ie.b,{src:"/logo.png",style:Pe.logo}),a.a.createElement(Ie.f,{style:Pe.wrapper},a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Receipt No"),a.a.createElement(Ie.e,{style:Object(h.a)(Object(h.a)({},Pe.textValue),Pe.textHead)},t.receiptNo)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Form number"),a.a.createElement(Ie.e,{style:Pe.textValue},o)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"HOF ITS"),a.a.createElement(Ie.e,{style:Pe.textValue},r)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"HOF Name"),a.a.createElement(Ie.e,{style:Pe.textValue},n)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Amount"),a.a.createElement(Ie.e,{style:Pe.textValue},t.amount)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Mode"),a.a.createElement(Ie.e,{style:Pe.textValue},t.mode)),a.a.createElement(Ie.f,{style:Pe.textWrapper},a.a.createElement(Ie.e,{style:Pe.textLabel},"Payment date"),a.a.createElement(Ie.e,{style:Pe.textValue},t.date)))))))};function Ge(){Ge=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new j(a||[]);return n(i,"_invoke",{value:w(e,r,l)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var f={};function h(){}function m(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:m,configurable:!0}),m.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var We=Object(we.a)("div")((function(e){var t=e.theme;return Object(Ee.a)({position:"relative",borderRadius:2*t.shape.borderRadius,backgroundColor:"white",marginRight:t.spacing(2),marginLeft:0,marginBottom:t.spacing(2),width:"100%"},t.breakpoints.up("sm"),{width:"auto"})})),Me=Object(we.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),De=Object(we.a)(Oe.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(Ee.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}}));function Ve(e){var t=e.row,r=n.useState(!1),a=Object(c.a)(r,2),o=a[0],i=a[1];return n.createElement(n.Fragment,null,n.createElement(M.a,{sx:{"&:last-child td, &:last-child th":{border:0}}},n.createElement(D.a,null,n.createElement(R.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!o)}},o?n.createElement(He.a,null):n.createElement(Te.a,null))),n.createElement(D.a,{component:"th",scope:"row"},n.createElement(l.b,{to:"/editform/"+t.formNo},t.formNo)),n.createElement(D.a,{component:"th",scope:"row"},t.markaz),n.createElement(D.a,null,t.HOFId),n.createElement(D.a,null,t.HOFName),n.createElement(D.a,{align:"right"},t.HOFPhone),n.createElement(D.a,{align:"right"},t.grandTotal),n.createElement(D.a,{style:{fontWeight:"bold"},align:"right"},t.grandTotal-t.paidAmount),n.createElement(D.a,null,n.createElement(Ie.g.PDFDownloadLink,{document:n.createElement(Ce,{familyMembers:t.familyMembers,HOFITS:t.HOFId,formNo:t.formNo,markaz:t.markaz}),fileName:"".concat(t.formNo)},n.createElement(R.a,{size:"small",color:"secondary"},n.createElement(_e.a,null))))),n.createElement(M.a,null,n.createElement(D.a,{style:{paddingBottom:0,paddingTop:0,borderBottom:"2px solid rgba(224, 224, 224, 1)"},colSpan:12},n.createElement(xe.a,{in:o,timeout:"auto",unmountOnExit:!0},n.createElement(K.a,{sx:{margin:1}},n.createElement(Y.a,{gutterBottom:!0,component:"div",style:{fontSize:"0.875rem",fontWeight:"bold"}},"Takhmeen Details"),n.createElement(G.a,{size:"small","aria-label":"purchases"},n.createElement(W.a,null,n.createElement(M.a,null,n.createElement(D.a,{align:"right"},"Takhmeen Amount"),n.createElement(D.a,{align:"right"},"Zabihat"),n.createElement(D.a,{align:"right"},"Iftaari"),n.createElement(D.a,{align:"right"},"Niyaaz"),n.createElement(D.a,{align:"right"},"Chairs"),n.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},"Grand Total"))),n.createElement(V.a,null,n.createElement(M.a,null,n.createElement(D.a,{component:"th",scope:"row",align:"right"},t.takhmeenDetails.takhmeenAmount),n.createElement(D.a,{align:"right"},"".concat(t.takhmeenDetails.zabihat," x ").concat(4500)),n.createElement(D.a,{align:"right"},t.takhmeenDetails.iftaari),n.createElement(D.a,{align:"right"},t.takhmeenDetails.niyaaz),n.createElement(D.a,{align:"right"},"".concat(t.takhmeenDetails.chairs," x ").concat(300)),n.createElement(D.a,{align:"right",style:{fontWeight:"bold"}},t.grandTotal)))))))))}function Re(){var e=Object(u.m)(),t=de(),r=t.state,a=t.dispatch,o=t.startLoading,i=t.endLoading,l=t.addToastMsg,s=n.useState([]),m=Object(c.a)(s,2),d=m[0],p=m[1],v=n.useState([]),y=Object(c.a)(v,2),g=y[0],b=y[1];n.useEffect((function(){E()}),[]),n.useEffect((function(){p(r.forms)}),[r.forms]),n.useEffect((function(){b(r.forms)}),[d]);var E=function(){var e=Object(N.a)(Ge().mark((function e(){var t,r;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),e.prev=1,e.next=4,ie.getForms();case 4:if(t=e.sent,r=t.data,!t.isOK){e.next=11;break}a({type:"GET_FORMS",payload:r}),e.next=12;break;case 11:throw new Error("Internal server error");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("failed to fetch form list",e.t0),l("unable to fetch form list, try again after some time","error");case 18:i();case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement(n.Fragment,null,n.createElement(ce,{header:"Shehrullah-il-Moazzam 1444 Niyaaz registration forms"}),n.createElement("div",{className:"d-flex justify-content-between mt-2"},n.createElement(We,null,n.createElement(Me,null,n.createElement(Ne.a,null)),n.createElement(De,{onChange:function(e){var t,r;!function(e){if(!e.trim())return b(Object(f.a)(d));var t=d.filter((function(t){return t.formNo.toLowerCase().includes(e.toLowerCase())||t.HOFId.toLowerCase().includes(e.toLowerCase())||t.HOFName.toLowerCase().includes(e.toLowerCase())||t.markaz.toLowerCase().includes(e.toLowerCase())}));b(t)}(null!==(t=null===e||void 0===e||null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:"")},placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})),n.createElement(R.a,{color:"secondary",size:"large",onClick:function(){e("/newform")}},n.createElement(je.a,{fontSize:"inherit"}))),n.createElement(A.a,{component:_.a},n.createElement(G.a,{"aria-label":"collapsible table"},n.createElement(W.a,null,n.createElement(M.a,null,n.createElement(D.a,null),n.createElement(D.a,{style:{fontWeight:"bold"}},"Form no."),n.createElement(D.a,{style:{fontWeight:"bold"}},"Markaz"),n.createElement(D.a,{style:{fontWeight:"bold"}},"HOF ID"),n.createElement(D.a,{style:{fontWeight:"bold"}},"HOF Name"),n.createElement(D.a,{style:{fontWeight:"bold"},align:"right"},"HOF Contact"),n.createElement(D.a,{style:{fontWeight:"bold"},align:"right"},"Total takhmeen amount"),n.createElement(D.a,{style:{fontWeight:"bold"},align:"right"},"Pending amount"),n.createElement(D.a,{style:{fontWeight:"bold"}},"Download"))),n.createElement(V.a,null,g.map((function(e){return n.createElement(Ve,{key:e._id,row:(t=e,Object(h.a)(Object(h.a)({},t),{},{grandTotal:se(t),takhmeenDetails:{niyaaz:t.niyaaz,iftaari:t.iftaari,zabihat:t.zabihat,takhmeenAmount:t.takhmeenAmount,chairs:t.chairs}}))});var t}))))))}var Be=r(71),Ke=r.n(Be),Ye=r(180),qe=r(182),Ze=r(324);function Je(){Je=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new j(a||[]);return n(i,"_invoke",{value:w(e,r,l)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var f={};function h(){}function m(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:m,configurable:!0}),m.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ue=function(){function e(){Object(X.a)(this,e)}return Object($.a)(e,null,[{key:"getReceipts",value:function(){var e=Object(N.a)(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get(this.url);case 3:return t=e.sent,e.abrupt("return",{data:t.data.data,isOK:"OK"===t.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getReceiptsByHOF",value:function(){var e=Object(N.a)(Je().mark((function e(t){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get(this.url+"/"+t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,isOK:"OK"===r.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addToReceipts",value:function(){var e=Object(N.a)(Je().mark((function e(t){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.post(this.url,t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,isOK:"Created"===r.statusText});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Qe(){Qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new j(a||[]);return n(i,"_invoke",{value:w(e,r,l)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var f={};function h(){}function m(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:m,configurable:!0}),m.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Ue.url="".concat(re,"/receipts");var Xe=function(e){var t=de(),r=t.startLoading,o=t.endLoading,i=t.addToastMsg,l=Object(u.m)(),s={takhmeenAmount:0,zabihat:0,iftaari:0,niyaaz:0,chairs:0,paidAmount:0,pendingAmount:0,formNo:"",HOFName:""},f=Object(n.useState)(Ke()((new Date).toISOString().substring(0,19))),m=Object(c.a)(f,2),d=m[0],p=m[1],v=Object(n.useState)(s),y=Object(c.a)(v,2),g=y[0],b=y[1],E={HOFId:"",date:"",amount:null,mode:"cash",details:""},x=Object(F.a)({defaultValues:E}),O=x.register,L=x.handleSubmit,j=x.reset,k=x.setValue,H=x.watch,I=x.formState.errors,C=x.getValues;H("HOFId");var A=C(),G=A.HOFId,W=A.mode,M=function(){var e=Object(N.a)(Qe().mark((function e(){var t,n,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C(),r(),e.prev=2,e.next=5,Ue.addToReceipts(Object(h.a)(Object(h.a)({},t),{},{date:d,formNo:g.formNo,HOFName:g.HOFName}));case 5:if(n=e.sent,a=n.data,!n.isOK){e.next=14;break}i("Details saved : "+a._id,"success"),j(),l("/"),e.next=15;break;case 14:throw new Error("Internal server error");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.log("error saving form",e.t0),i("Unable to save details, please re validate entered values","error");case 21:o();case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),D=Object(n.useState)(!1),V=Object(c.a)(D,2),R=V[0],B=V[1],K=function(){var e=Object(N.a)(Qe().mark((function e(t){var n,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.value){e.next=2;break}return e.abrupt("return");case 2:return r(),e.prev=3,e.next=6,ie.isFormExistByHOF(t.target.value);case 6:n=e.sent,(a=n.data).exists?b(Object(h.a)(Object(h.a)({},fe(a.form)),{},{formNo:a.form.formNo,HOFName:a.form.HOFName})):i("Data not registered, please fill registration form first","warning"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("error getting form details",e.t0),i("Unable to fetch form details","error"),j(Object(h.a)({},E)),b(s);case 17:o();case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(ce,{header:"Shehrullah-il-Moazzam 1444 new receipt"}),a.a.createElement(_.a,null,a.a.createElement("div",{className:"p-3"},a.a.createElement("form",{onSubmit:L(M)},a.a.createElement(S.a,{container:!0,spacing:3,direction:"row",alignContent:"center"},a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,{required:!0,fullWidth:!0,size:"small",id:"HOFId",name:"HOFId",label:"HOF Id",type:"text",value:G,onChange:function(e){var t,r;k("HOFId",null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:""),B(!R)},onBlur:function(e){K(e)},error:!!I.HOFId})),a.a.createElement(S.a,{item:!0,xs:12}),a.a.createElement(S.a,{item:!0,xs:12},a.a.createElement(T.a,null,"Takhmeen summary"),ue({takhmeenDetails:g})),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(T.a,null,"Total payments till date"),a.a.createElement(P.a,{disabled:!0,fullWidth:!0,size:"small",id:"paidAmount",name:"paidAmount",type:"number",value:g.paidAmount})),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(T.a,null,"Total pending amount"),a.a.createElement(P.a,{disabled:!0,fullWidth:!0,size:"small",id:"pendingAmount",name:"pendingAmount",type:"number",value:g.pendingAmount})),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(P.a,Object.assign({fullWidth:!0,size:"small",id:"amount",name:"amount",label:"Payment amount",type:"number"},O("amount")))),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(Ye.a,{dateAdapter:qe.a},a.a.createElement(Ze.a,{label:"Date desktop",inputFormat:"MM/DD/YYYY",value:d,onChange:function(e){p(e)},renderInput:function(e){return a.a.createElement(P.a,Object.assign({},e,{size:"small",fullWidth:!0}))}}))),a.a.createElement(S.a,{item:!0,xs:6},a.a.createElement(z.a,{fullWidth:!0},a.a.createElement(T.a,null,"Mode"),a.a.createElement(q.a,{size:"small",name:"paymentMode",value:W,onChange:function(e){k("mode",e.target.value),B(!R)},row:!0},a.a.createElement(Z.a,{key:"cash",value:"cash",control:a.a.createElement(J.a,{size:"small"}),label:"Cash"}),a.a.createElement(Z.a,{key:"cheque",value:"cheque",control:a.a.createElement(J.a,{size:"small"}),label:"Cheque"}),a.a.createElement(Z.a,{key:"online",value:"online",control:a.a.createElement(J.a,{size:"small"}),label:"Online"})))),a.a.createElement(S.a,{item:!0,xs:12},a.a.createElement(P.a,Object.assign({fullWidth:!0,size:"small",id:"details",name:"details",label:"Payment details",type:"textarea"},O("details")))),a.a.createElement(S.a,{className:"d-flex",item:!0,xs:12,alignSelf:"center",justifyContent:"center"},a.a.createElement(w.a,{variant:"contained",color:"primary",type:"submit",style:{backgroundColor:"green",margin:"5px"}},e.isEdit?"Update":"Submit")))))))};function $e(){$e=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new j(a||[]);return n(i,"_invoke",{value:w(e,r,l)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var f={};function h(){}function m(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:m,configurable:!0}),m.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var et=Object(we.a)("div")((function(e){var t=e.theme;return Object(Ee.a)({position:"relative",borderRadius:2*t.shape.borderRadius,backgroundColor:"white",marginRight:t.spacing(2),marginLeft:0,marginBottom:t.spacing(2),width:"100%"},t.breakpoints.up("sm"),{width:"auto"})})),tt=Object(we.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),rt=Object(we.a)(Oe.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(Ee.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}}));function nt(e){var t=e.row,r=n.useState(!1),a=Object(c.a)(r,2),o=a[0],i=a[1];return n.createElement(n.Fragment,null,n.createElement(M.a,{sx:{"&:last-child td, &:last-child th":{border:0}}},n.createElement(D.a,null,n.createElement(R.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!o)}},o?n.createElement(He.a,null):n.createElement(Te.a,null))),n.createElement(D.a,{component:"th",scope:"row"},t.formNo),n.createElement(D.a,null,t.HOFId),n.createElement(D.a,null,t.HOFName)),n.createElement(M.a,null,n.createElement(D.a,{style:{paddingBottom:0,paddingTop:0,borderBottom:"2px solid rgba(224, 224, 224, 1)"},colSpan:12},n.createElement(xe.a,{in:o,timeout:"auto",unmountOnExit:!0},n.createElement(K.a,{sx:{margin:1}},n.createElement(Y.a,{gutterBottom:!0,component:"div",style:{fontSize:"0.875rem",fontWeight:"bold"}},"Receipt(s) summary"),n.createElement(G.a,{size:"small","aria-label":"purchases"},n.createElement(W.a,null,n.createElement(M.a,null,n.createElement(D.a,null,"Receipt No"),n.createElement(D.a,{align:"right"},"Amount"),n.createElement(D.a,null,"Mode"),n.createElement(D.a,null,"Date"),n.createElement(D.a,null))),n.createElement(V.a,null,t.subReceipts.map((function(e){return n.createElement(M.a,{key:e.receiptNo},n.createElement(D.a,{component:"th",scope:"row"},e.receiptNo),n.createElement(D.a,{align:"right"},e.amount),n.createElement(D.a,null,e.mode),n.createElement(D.a,null,e.date),n.createElement(D.a,null,n.createElement(Ie.g.PDFDownloadLink,{document:n.createElement(Ae,{receipt:e,HOFITS:t.HOFId,HOFName:t.HOFName,formNo:t.formNo}),fileName:"".concat(e.receiptNo)},n.createElement(R.a,{size:"small",color:"secondary"},n.createElement(_e.a,null)))))})))))))))}function at(){var e=de(),t=e.state,r=e.dispatch,a=e.startLoading,o=e.endLoading,i=e.addToastMsg,l=n.useState([]),u=Object(c.a)(l,2),s=u[0],m=u[1],d=n.useState([]),p=Object(c.a)(d,2),v=p[0],y=p[1];n.useEffect((function(){g()}),[]),n.useEffect((function(){m(t.receipts)}),[t.receipts]),n.useEffect((function(){y(t.receipts)}),[s]);var g=function(){var e=Object(N.a)($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,Ue.getReceipts();case 4:if(t=e.sent,n=t.data,!t.isOK){e.next=11;break}r({type:"GET_RECEIPTS",payload:me(n)}),e.next=12;break;case 11:throw new Error("Internal server error");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("failed to fetch receipt list",e.t0),i("unable to fetch receipt list, try again after some time","error");case 18:o();case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement(n.Fragment,null,n.createElement(ce,{header:"Shehrullah-il-Moazzam 1444 Niyaaz registration receipts"}),n.createElement("div",{className:"d-flex justify-content-between mt-2"},n.createElement(et,null,n.createElement(tt,null,n.createElement(Ne.a,null)),n.createElement(rt,{onChange:function(e){var t,r;!function(e){if(!e.trim())return y(Object(f.a)(s));var t=s.filter((function(t){return t.formNo.toLowerCase().includes(e.toLowerCase())||t.HOFId.toLowerCase().includes(e.toLowerCase())||t.HOFName.toLowerCase().includes(e.toLowerCase())}));y(t)}(null!==(t=null===e||void 0===e||null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:"")},placeholder:"Search\u2026",inputProps:{"aria-label":"search"}}))),n.createElement(A.a,{component:_.a},n.createElement(G.a,{"aria-label":"collapsible table"},n.createElement(W.a,null,n.createElement(M.a,null,n.createElement(D.a,null),n.createElement(D.a,{style:{fontWeight:"bold"}},"Form no."),n.createElement(D.a,{style:{fontWeight:"bold"}},"HOF ID"),n.createElement(D.a,{style:{fontWeight:"bold"}},"HOF Name"))),n.createElement(V.a,null,v.map((function(e){return n.createElement(nt,{key:e.HOFId,row:(t=e,Object(h.a)({},t))});var t}))))))}var ot=function(){var e=Object(n.useContext)(s),t=Object(n.useReducer)(d,e),r=Object(c.a)(t,2),o=r[0],i=r[1];return a.a.createElement(s.Provider,{value:{state:o,dispatch:i}},a.a.createElement(E,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/",element:a.a.createElement(k,null)}),a.a.createElement(u.a,{path:"/newform",element:a.a.createElement(be,null)}),a.a.createElement(u.a,{path:"/editform/:formNo",element:a.a.createElement(be,{isEdit:!0})}),a.a.createElement(u.a,{path:"/formlist",element:a.a.createElement(Re,null)}),a.a.createElement(u.a,{path:"/newreceipt",element:a.a.createElement(Xe,null)}),a.a.createElement(u.a,{path:"/receiptlist",element:a.a.createElement(at,null)}),a.a.createElement(u.a,{path:"*",element:a.a.createElement(a.a.Fragment,null,a.a.createElement(ce,{header:"Page not found, go home!"}))}))))};r(260);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(l.a,null,a.a.createElement(ot,null))),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.cf740e97.chunk.js.map